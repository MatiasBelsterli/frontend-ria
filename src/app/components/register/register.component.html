<div class="container">
  <div class="column is-4 is-offset-4">
    <h2 class="title">Register</h2>
    <div class="box">
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

        <div class="field">
          <label class="label">Email</label>
          <div class="control has-icons-left has-icons-right">
            <input class="input" type="email" placeholder="Email input" formControlName="email">
            <span class="icon is-small is-left">
              <i class="fas fa-envelope"></i>
            </span>
          </div>
          <p class="help is-danger"
            *ngIf="((registerForm.get('email')?.touched || formSubmitted) && registerForm.get('email')?.hasError('required'))">
            This email is required
          </p>
          <p class="help is-danger" *ngIf="(registerForm.get('email')?.hasError('email'))">
            This email is invalid
          </p>
        </div>

        <div class="field">
          <label class="label">Password</label>
          <div class="control has-icons-left has-icons-right">
            <input class="input" type="password" placeholder="Password Here" formControlName="password">
            <span class="icon is-small is-left">
              <i class="fas fa-lock"></i>
            </span>
          </div>
          <p class="help is-danger"
            *ngIf="((registerForm.get('password')?.touched || formSubmitted) && registerForm.get('password')?.hasError('required'))">
            This password is required
          </p>
          <p class="help is-danger" *ngIf="(registerForm.get('password')?.hasError('minlength'))">
            The password must be at least 8 characters
          </p>
        </div>
        <div class="field">
          <label class="label">Password Confirm</label>
          <div class="control has-icons-left has-icons-right">
            <input class="input" type="password" placeholder="Password Confirm Here" formControlName="passwordConfirm">
            <span class="icon is-small is-left">
              <i class="fas fa-lock"></i>
            </span>
          </div>
          <p class="help is-danger" *ngIf="(registerForm.get('passwordConfirm')?.hasError('passwordMismatch'))">
            The password confirm is invalid
          </p>
        </div>
        <div class="field">
          <label class="label">User Role</label>
          <div class="select">
            <select formControlName="role" (change)="onChangeRole($event)">
              <option value="" selected>Select role</option>
              <option value="PANADERO">Panadero</option>
              <option value="USER">Cliente</option>
            </select>
          </div>
          <p class="help is-danger"
            *ngIf="(registerForm.get('role')?.invalid && registerForm.get('role')?.touched) || (formSubmitted && registerForm.get('role')?.invalid)">
            A rol is required
          </p>
        </div>

        <div class="field">
          <label class="label">Phone</label>
          <div class="control has-icons-left has-icons-right">
            <input class="input" type="tel" placeholder="Phone input" formControlName="phone">
            <span class="icon is-small is-left">
              <i class="fas fa-envelope"></i>
            </span>
          </div>
          <p class="help is-danger"
            *ngIf="((registerForm.get('phone')?.touched || formSubmitted) && registerForm.get('phone')?.hasError('required'))">
            This phone is required
          </p>
          <p class="help is-danger" *ngIf="(registerForm.get('phone')?.hasError('minlength'))">
            The phone must be at least 9 characters
          </p>
          <p class="help is-danger" *ngIf="(registerForm.get('phone')?.hasError('maxlength'))">
            The phone must be at most 9 characters
          </p>
        </div>

        <div class="field is-grouped">
          <div class="control">
            <button class="button is-link">Register</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>